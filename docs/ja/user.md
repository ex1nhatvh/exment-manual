# ユーザー・ログインユーザー
このシステムを使用するユーザー、またはログインユーザーの管理を行います。

## 名称定義
### ユーザー
自社や組織に所属する社員や、人物です。  
このシステムを使用しない方も、ユーザーとして追加することができます。  
ユーザーコード、Eメールアドレスが必須になります。  
他のテーブルとの関連付けなどで、ユーザーを紐付けて登録することはできますが、システムにログインすることは出来ません。

### ログインユーザー
ユーザーのうち、Exmentにログインすることができる社員・人物です。  
ユーザー情報にパスワードが割り振られますので、Exmentのログイン画面からログインすることができるようになり、データの登録や参照などを行うことができます。  

#### ユーザー、ログインユーザーの設定手順
![ユーザー画面](img/user/user_loginuser_flow.png)
Exmentにログイン出来るようになるまでの流れは、上記のような手順となります。  
①ユーザー管理画面で、ユーザーのユーザーコード、ユーザー名、メールアドレスを登録します。  
その後、②のログインユーザー管理画面で、①で登録したユーザーのパスワードを設定します。  
これで、登録したユーザーがExmentにログイン出来るようになります。  

> ログイン時、ユーザーに設定したパスワードを一定の回数間違えると、そのユーザーは一定時間ログインができなくなります。  

![ユーザー画面](img/user/user_restriction.png)

## ユーザー管理
全ユーザー情報を管理する方法について記載します。  

### 一覧画面表示
左メニューより、「ユーザー」をクリックします。  
もしくは、以下のURLにアクセスしてください。  
これにより、ユーザー設定画面が表示されます。
http(s)://(ExmentのURL)/admin/data/user  
現在システムで登録されているユーザーの一覧が表示されます。
![ユーザー画面](img/user/user_grid1.png)

### ユーザーの新規追加
- 「ユーザー」の一覧画面で、ページ右上の［新規］ボタンをクリックします。

- 新規追加画面が表示されますので、必要事項を入力します。
![ユーザー画面](img/user/user_new1.png)


##### 所属組織設定
ユーザーを所属させる組織がある場合、候補データ一覧から選択し、選択済データに移動してください。  
※組織が作成されていない場合、この項目は表示されません。

##### 役割グループ設定
ユーザーに割り振る役割グループがある場合、候補データ一覧から選択し、選択済データに移動してください。

##### ログイン設定
ログイン権限付与をYESにすることにより、ログインユーザーとしてユーザーを作成することができます。
設定方法は下記の[ログインユーザー管理](#ログインユーザー管理)をご参照ください。

### 保存
設定を記入したら、［送信］をクリックしてください。

### 編集
ユーザーの編集を行いたい場合、該当する行の［編集］リンクをクリックしてください。  
![ユーザー画面](img/user/user_edit.png)

### 削除
ユーザーの削除を行いたい場合、該当する行の［削除］リンクをクリックしてください。  
![ユーザー画面](img/user/user_delete.png)


## ログインユーザー管理
上記画面で作成したユーザーをもとに、ログインユーザーの管理を行います。  
パスワード情報の追加や、パスワードの再発行、ログイン権限の削除などを行うことができます。  

### 画面表示
左メニューより、「ログインユーザー」をクリックします。  
もしくは、以下のURLにアクセスしてください。  
これにより、ユーザー設定画面が表示されます。
http(s)://(ExmentのURL)/loginuser  
現在システムで登録されているユーザーと、そのログイン情報が表示されます。
![ログインユーザー画面](img/user/loginuser_grid1.png)

### ログイン情報追加
ログイン情報を追加するユーザーの行の、［編集］リンクをクリックしてください。  
![ログインユーザー画面](img/user/loginuser_grid2.png)

ログイン情報編集画面が表示されます。  
![ログインユーザー画面](img/user/loginuser_edit1.png)
ログイン権限を追加する場合、「ログイン権限付与」をYESにします。  
YESにすることで、「パスワードを自動生成する」項目が表示されます。

#### パスワードを自動生成する
YESの場合、ログイン権限を追加時にパスワードを自動生成します。    
自動生成後、該当するメールアドレスに、パスワードメールが自動送信されます。  
**※この機能を実行する場合、[メール設定](/ja/system_setting#システムメール設定)を行う必要があります。**
![ログインユーザー画面](img/user/loginuser_password.png)
NOの場合、パスワードを入力する為のテキストボックスと「ユーザー情報をメール送信する」項目が表示されます。

#### パスワード入力
「パスワードを自動生成する」がNOの場合に表示されます。  
ログインユーザーのパスワードを入力してください。  
![ログインユーザー画面](img/user/loginuser_password2.png)

#### ユーザー情報をメール送信する
「パスワードを自動生成する」がNOの場合に表示されます。  
この項目がYESの場合、該当するメールアドレスに、パスワードメールが送信されます。  
**※この機能を実行する場合、[メール設定](/ja/system_setting#システムメール設定)を行う必要があります。**

### ログイン権限削除
ログイン権限の削除を行います。  
一覧画面で、列「ログインユーザー設定」が「YES」のユーザーの、［編集］リンクをクリックしてください。  
![ログインユーザー画面](img/user/loginuser_grid3.png)  

「ログイン権限付与」をNOに変更します。  
![ログインユーザー画面](img/user/loginuser_remove.png)  
その後、［送信］をクリックしてください。  

