# アップデート
Exmentのバージョンが更新され、アップデートが必要になった場合の手順です。  
**※version1.3.Xにアップデートする場合、特別な手順が必要です(必須)。[こちら](/ja/update/v1_3)の手順に従い、アップデートを行ってください。**

## (初回のみ)アップデートバッチのダウンロード

### Linuxの場合
- 以下のコマンドを、プロジェクトのルートディレクトリで実行し、ダウンロードを行ってください。

~~~
wget https://exment.net/downloads/cmd/ExmentUpdateLinux.sh
chmod 775 ExmentUpdateLinux.sh
~~~

### Windowsの場合
- 以下のファイルをダウンロードします。  
https://exment.net/downloads/cmd/ExmentUpdateWindows.bat

- ダウンロードしたファイルを、プロジェクトのルートディレクトリに配置してください。


## アップデートバッチの実行
アップデートバッチを実行してください。

### Linuxの場合
- 以下のコマンドを、プロジェクトのルートディレクトリで実行してください。

~~~
sh ExmentUpdateLinux.sh
~~~

### Windowsの場合
- 以下のバッチファイルを実行してください。  

~~~
ExmentUpdateWindows.bat
~~~

## アップデートバッチの実行内容
アップデートバッチでは、以下の内容を実行しています。  
 - データのバックアップ
 - 最新ソース取得、反映
 - データベース更新



## (old)手動によるアップデート方法
以下、v1.3.0以前のバックアップ方法です。

### (推奨)データのバックアップ
データのバックアップを実行します。詳細は[バックアップ](/ja/backup)をご確認ください。  
- 管理者でExmentにログインし、左メニューより「管理者設定」→「バックアップ」を選択します。
- 「バックアップ」ページ右上の「バックアップ」ボタンをクリックします。
- 最新のデータ、ならびに添付ファイルなどのバックアップが作成されます。
- その後、実行した時刻のバックアップファイルをクリックし、ダウンロードします。


### 最新ソース取得、反映、データベース更新
- コマンドラインで、以下のコマンドを実行します。  
※リリース直後だと、最新バージョンが検知されない場合があります。その場合、10～20分ほど経過後、再度下記コマンドを実行してください。  

~~~
cd (プロジェクトのルートディレクトリ)
composer require exceedone/laravel-admin
composer require exceedone/exment
php artisan exment:update
~~~
