# ファイルアップロード上限サイズ・メモリ量変更

## ファイルアップロード上限サイズ変更
Exmentでは、画面からファイルをアップロードする機能があります。  
アップロードできるファイルサイズは、サーバーによって上限値があります。  
（デフォルトの上限値は、インストールしたサーバーによって異なります）  

そのファイルサイズ上限値を変更するには、以下の手順のいずれかを実施してください。  

### 設定手順1 .htaccessファイル修正
- Exmentをインストールしたフォルダの、「public/.htaccess」ファイルを開きます。

- 以下の値を追加します。

~~~
#POSTデータに許可される最大サイズ
php_value post_max_size 20M
 
#1つのファイルアップロードに許可される最大サイズ
php_value upload_max_filesize 20M
~~~

- これにより、ファイルアップロードサイズ上限が変更されます。

### 設定手順2 php.ini修正
- .htaccessファイル修正で、上限値が変更されなかった場合や、エラーの発生時にこちらを実施してください。上級者向けです。  

- PHPをインストールしたフォルダにある、「php.ini」ファイルを開きます。

- php.iniファイルより、以下の値を修正します。※すでに数値がセットされている場合が多いので、数値を書き換えてください。

~~~
#POSTデータに許可される最大サイズ
post_max_size=20M
 
#1つのファイルアップロードに許可される最大サイズ
upload_max_filesize=20M
~~~

- サーバーを再起動します。

- これにより、ファイルアップロードサイズ上限が変更されます。


## メモリ量変更
Exment(PHP)で使用するメモリ量を変更します。  
メモリ量が大きいほど、処理が早くなったり、一度に実行できる内容が変動しますが、大きすぎると、サーバー動作に影響がある場合があります。

そのメモリ上限値を変更するには、以下の手順のいずれかを実施してください。  

### 設定手順1 .htaccessファイル修正
- Exmentをインストールしたフォルダの、「public/.htaccess」ファイルを開きます。

- 以下の値を追加します。

~~~
#メモリ最大サイズ
php_value memory_limit 256M
~~~

- これにより、メモリサイズが変更されます。

### 設定手順2 php.ini修正
- .htaccessファイル修正で、上限値が変更されなかった場合や、エラーの発生時にこちらを実施してください。上級者向けです。  

- PHPをインストールしたフォルダにある、「php.ini」ファイルを開きます。

- php.iniファイルより、以下の値を修正します。※すでに数値がセットされている場合が多いので、数値を書き換えてください。

~~~
#メモリ最大サイズ
memory_limit 256M
~~~

- サーバーを再起動します。

- これにより、メモリサイズ上限が変更されます。

[←追加設定一覧へ戻る](/ja/quickstart_more)